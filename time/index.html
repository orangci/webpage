<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="My timezone and current time.">
    <meta property="og:title" content="orangc" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://orangc.xyz/" />
    <meta property="og:image" content="https://orangc.xyz/leaf.png" />
    <meta property="og:description" content="My timezone and current time." />
    <meta name="theme-color" content="#FFAA00" />
    <title>orangc</title>
    <link rel="shortcut icon" href="leaf.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../styles/uwu.css" />
</head>

<body class="justify-center items-center m-auto text-center">
    <h1 class="font-extrabold mt-[40vh]"><i class="fas fa-clock"></i> <time id="myCurrentTime"></time></h1>
    <p id="yourTimezone"></p>

    <!-- Scripts -->
    <script>
        function updateCurrentTimeAndGreeting() {
            const currentTimeElement = document.getElementById("myCurrentTime");
            const timezoneElement = document.getElementById("yourTimezone");

            if (currentTimeElement) {
                const now = new Date();
                const offset = 3; // UTC+3
                const utc3 = new Date(now.getTime() + offset * 60 * 60 * 1000);
                const formattedTime = utc3.toISOString().slice(11, 19); // HH:mm:ss format
                currentTimeElement.innerHTML = `
                    ${formattedTime} <span class="text-cred">AST</span>
                `;
                currentTimeElement.setAttribute("datetime", utc3.toISOString());
            }

            if (timezoneElement) {
                const userOffsetMinutes = -new Date().getTimezoneOffset();
                const userOffsetHours = userOffsetMinutes / 60;
                const diffHours = userOffsetHours - 3; // Difference from UTC+3

                const greeting = (() => {
                    const hours = new Date().getHours();
                    if (hours < 12) return "Good morning";
                    if (hours < 18) return "Good afternoon";
                    return "Good evening";
                })();

                if (diffHours === 0) {
                    timezoneElement.innerHTML = `
                        ${greeting}, your timezone is the same as mine.
                    `;
                } else {
                    const isAhead = diffHours > 0;
                    const direction = isAhead ? "ahead of" : "behind";

                    timezoneElement.innerHTML = `
                        ${greeting}, your timezone is <span class="text-cmauve">UTC${userOffsetHours >= 0 ? '+' : ''}${userOffsetHours}</span>, which is <span class="text-cred">${Math.abs(diffHours)}</span> hours ${direction} my timezone.
                    `;
                }
            }
        }

        updateCurrentTimeAndGreeting();
        setInterval(updateCurrentTimeAndGreeting, 1000);
    </script>


    <script src="https://kit.fontawesome.com/d18c7751b3.js" crossorigin="anonymous"></script>
</body>

</html>